{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/native.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/nil.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/regex.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/rng.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/v4.js","webpack://openflowy-web/./node_modules/uuid/dist/esm-browser/validate.js","webpack://openflowy-web/webpack/bootstrap","webpack://openflowy-web/webpack/runtime/define property getters","webpack://openflowy-web/webpack/runtime/hasOwnProperty shorthand","webpack://openflowy-web/webpack/runtime/make namespace object","webpack://openflowy-web/./src/main.ts"],"sourcesContent":["var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","export default '00000000-0000-0000-0000-000000000000';","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;","import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { v4 as uuidv4, NIL as NIL_UUID } from 'uuid';\n\n// type 'uuid' is an alias for type 'string'\ntype uuid = string;\n\n/* List of all Task objects seen so far */\nlet all_tasks: Task[] = [];\n\nclass Task\n{\n    private _id       : uuid;\n    private parent    : Task;\n    private children  : Task[];\n    private text      : string;\n\n    private static _nilTask: Task;\n\n    constructor(text : string, parent ?: Task)\n    {\n        if (text === null)\n            console.warn('WARNING: Task:constructor:text is null');\n\n        this._id      = uuidv4();\n        this.text     = text;\n        this.children = [];\n\n        if (parent === undefined)\n            parent = Task.nilTask;\n\n        this.parent = parent;\n        parent.appendChildren([this]);\n\n        all_tasks.push(this);\n    }\n\n    /*\n     * 'getter' for _id attribute.\n     *\n     * We don't want others to modify id; not implementing `setter`, or marking\n     * the setter private, has same effect\n     * E.g. private set id(id: uuid) { this._id = id; }\n     */\n    get id() { return this._id; }\n\n    /* 'getter' for the singleton nilTask object */\n    static get nilTask() : Task\n    {\n        if (Task._nilTask === undefined)\n        {\n            // Cannot use the Task constructor here because doing so will cause\n            // infinite recursion.\n            Task._nilTask = Object.create(Task.prototype);\n\n            // Special case: nilTask is its own parent\n            Task._nilTask.parent = Task._nilTask;\n            Task._nilTask._id = NIL_UUID;\n            Task._nilTask.children = [];\n            Task._nilTask.text = '-';\n        }\n\n        return Task._nilTask;\n    }\n\n    prependChildren(t: Task[]) { this.children.unshift(...t); }\n    appendChildren (t: Task[]) { this.children.push   (...t); }\n\n    setParent(p: Task)\n    {\n        let originalParent = this.parent;\n\n        if (originalParent === null || originalParent === undefined)\n            console.error(\"ERROR: Parent of this task was null\", this);\n\n        originalParent.removeChild(this);\n        this.parent = p;\n        p.appendChildren([this]);\n    }\n\n    removeChild(t : Task)\n    {\n        let i: number = 0;\n\n        /*\n         * Didn't use the alternative method of iterating over all array\n         * elements using children.forEach(), because that method does not have\n         * a way to 'break' the loop at will.\n         */\n        for (let el of this.children)\n        {\n            if (el === t)\n            {\n                this.children.splice(i, 1);\n                break;\n            }\n            else\n                ++i;\n        }\n    }\n\n    /* Generate the DOM below the given DOM element. */\n    dom(parentDom: Element) : Element\n    {\n        let li: Element = document.createElement('li');\n        parentDom.appendChild(li);\n\n        /*\n         * Prefix the id attribute's value with 'id-' because the ID addtribute\n         * must not start with a decimal digit, and the uuid might have a\n         * decimal digit as the first character.\n         */\n        li.setAttribute('id', 'id-'+this._id);\n        li.setAttribute('contenteditable', 'true');\n        li.innerHTML = this.text;\n\n        if (this.children.length !== 0)\n        {\n            let ul: Element = document.createElement('ul');\n            li.appendChild(ul);\n            this.children.forEach( el => { el.dom(ul); } );\n        }\n\n        return parentDom;\n    }\n}\n\n/*\n * Render the Task objects at the root. Root Task objects are those that have\n * the singleton nilParent as their parent attribute.\n */\nfunction renderRootTasks( el: Element) : Element\n{\n    let ul: Element;\n    let nilTask : Task = Task.nilTask;\n\n    // Clear any existing children of the target DOM element\n    el.replaceChildren();\n\n    /*\n     * Each Task's dom() method appends the Task as an 'li' element, so, create\n     * the 'ul' element that those 'li' elements can go under.\n     */\n    ul = document.createElement('ul');\n    el.appendChild(ul);\n\n    nilTask.dom(ul);\n\n    return el;\n}\n\nfunction main()\n{\n    // Create and append a heading element\n    let heading = document.createElement('h1');\n    heading.textContent = 'OpenFlowy';\n    document.body.appendChild(heading);\n\n    let T1     : Task = new Task('This is <b>OpenFlowy</b>, an alternative to WorkFlowy');\n    let T1_1   : Task = new Task(  'Also available at <a href=https://FreeFlowy.com>FreeFlowy.com</a>');\n    let T2     : Task = new Task('Use OpenFlowy to manage your tasks as a list');\n    let T2_1   : Task = new Task(  'Each Task can have Subtasks');\n    let T2_1_1 : Task = new Task(    'A Subtask can have more Subtasks');\n    let T2_1_2 : Task = new Task(    'Like this');\n    let T2_2   : Task = new Task(  'Once a Task is complete, you can mark it as Completed');\n    let T2_2_1 : Task = new Task(    '<s style=\"color:grey\">Like this</s>');\n    let T3     : Task = new Task('Use OpenFlowy without creating an account');\n    let T4     : Task = new Task('Use OpenFlowy even while disconnected from the Internet');\n    let T5     : Task = new Task('Export and import your data anytime, in clear');\n\n    T1_1  .setParent(T1  );\n    T2_1  .setParent(T2  );\n    T2_1_1.setParent(T2_1);\n    T2_1_2.setParent(T2_1);\n    T2_2  .setParent(T2  );\n    T2_2_1.setParent(T2_2);\n\n    let appHolder = document.createElement('div');\n    renderRootTasks(appHolder);\n    document.body.appendChild(appHolder);\n}\n\n// Call main() and run the app as soon as DOM is done loading\nwindow.addEventListener('DOMContentLoaded', function() {\n    main();\n});\n\nlet message: string = 'OpenFlowy starting up';\nconsole.log(message);\n"],"names":[],"sourceRoot":""}